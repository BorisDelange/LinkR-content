<?xml version="1.0"?>
<plugins>
  <plugin>
    <app_version>0.2.0</app_version>
    <type>2</type>
    <version>0.0.1.9003</version>
    <unique_id>6f3c30ede116bc25978075b6634268214c545173634f3cd81c0d1db6081a45b8</unique_id>
    <author>Boris Delange</author>
    <image>console_icon.png</image>
    <description_fr>## &lt;i class="fa fa-info-circle" style="color: steelblue;"&gt;&lt;/i&gt; Description

Ce plugin vous permet d'**ex&#xE9;cuter du code** dans la console R et de **sauvegarder votre code sous forme de scripts**.

## &lt;i class="fa fa-cogs" style="color: steelblue;"&gt;&lt;/i&gt; Gestion des scripts

Allez dans l'onglet "Gestion des scripts" pour **ajouter, supprimer ou renommer des scripts**.

Un script est un **fichier texte contenant du code**.

Une fois un script cr&#xE9;&#xE9;, vous pouvez l'**&#xE9;diter** dans l'onglet "Script" et **ex&#xE9;cuter le code**.

## &lt;i class="fa fa-code" style="color: steelblue;"&gt;&lt;/i&gt; Code R

Ecrivez du **code en R** et ex&#xE9;cutez-le : le **r&#xE9;sultat retourn&#xE9; par la console** appara&#xEE;tra en-dessous de l'&#xE9;diteur de texte.

Pour conna&#xEE;tre le **mod&#xE8;le de donn&#xE9;es** utilis&#xE9; par l'application, cliquez sur le bouton d'aide (point d'interrogation en haut &#xE0; droite de la page) lorsque vous &#xEA;tes sur la page "Donn&#xE9;es / Acc&#xE9;der aux donn&#xE9;es".

Exemple de code (obtenir le min, max et moyenne de la fr&#xE9;quence cardiaque chez nos patients) :

```
d$measurement %&gt;%
    dplyr::filter(measurement_concept_id == 3027018) %&gt;%
    dplyr::group_by(person_id) %&gt;%
    dplyr::summarize(min_weight = min(value_as_number), max_weight = max(value_as_number), avg_weight = mean(value_as_number)) %&gt;%
    dplyr::ungroup()
```

&lt;img src="%plugin_folder%/r_code_1.png" width="1100" /&gt;

&lt;img src="%plugin_folder%/r_code_2.png" width="900" /&gt;

## &lt;i class="fa fa-file-code-o" style="color: steelblue;"&gt;&lt;/i&gt; RMarkdown

Vous pouvez &#xE9;galement &#xE9;crire du code en **Rmarkdown**.

Il s'agit d'un **Markdown** auquel vous pouvez ajouter du **code R**.

Pour plus d'informations sur RMarkdown, &lt;a href="https://rmarkdown.rstudio.com/lesson-2.html" target="_blank"&gt;rendez-vous sur leur site&lt;/a&gt;.

Exemple de code (le m&#xEA;me exemple que ci-dessus, en RMarkdown - un backslash a &#xE9;t&#xE9; ajout&#xE9; pour &#xE9;viter l'&#xE9;x&#xE9;cution du code) :

```
# Script sur la fr&#xE9;quence cardiaque

\```{r}
d$measurement %&gt;%
    dplyr::filter(measurement_concept_id == 3027018) %&gt;%
    dplyr::group_by(person_id) %&gt;%
    dplyr::summarize(min_weight = min(value_as_number), max_weight = max(value_as_number), avg_weight = mean(value_as_number)) %&gt;%
    dplyr::ungroup()
\```
```

&lt;img src="%plugin_folder%/rmarkdown_1.png" width="1100" /&gt;

&lt;img src="%plugin_folder%/rmarkdown_2.png" width="1100" /&gt;

## &lt;i class="fa fa-bar-chart" style="color: steelblue;"&gt;&lt;/i&gt; Figure</description_fr>
    <description_en></description_en>
    <name_fr>Gestionnaire de scripts</name_fr>
    <name_en>Scripts manager</name_en>
    <category_fr></category_fr>
    <category_en></category_en>
    <creation_datetime>2023-08-07 20:11:14</creation_datetime>
    <update_datetime>2023-08-15 23:09:53</update_datetime>
    <images>console_icon.png;;;r_code_1.png;;;r_code_2.png;;;rmarkdown_1.png;;;rmarkdown_2.png</images>
  </plugin>
  <plugin>
    <app_version>0.2.0</app_version>
    <type>2</type>
    <version>0.0.1.9009</version>
    <unique_id>dbddcb34874bd3e8cfcc287f4dc73f422007d928e591add209329f03c99efa21</unique_id>
    <author>Boris Delange</author>
    <image>ggplot2.png</image>
    <description_fr>## &lt;i class="fa fa-info-circle" style="color: steelblue;"&gt;&lt;/i&gt; Description

Ce plugin utilise la librairie R &lt;a href="https://ggplot2.tidyverse.org/" target="_blank"&gt;`ggplot2`&lt;/a&gt;, permettant de cr&#xE9;er des graphiques &#xE0; partir des donn&#xE9;es.

## &lt;i class="fa fa-cogs" style="color: steelblue;"&gt;&lt;/i&gt; Utilisation

Pour commencer, **choisissez la variable** &#xE0; afficher sur chacun des axes dans l'onglet "Variables".

Certaines figures n'auront une **variable que sur un axe** (geom_histogram), d'autres ne s'afficheront que **si des variables sont renseign&#xE9;es sur les deux axes** (geom_point).

Pour chaque figure, choisissez :

- le **th&#xE8;me** de la figure
- le **texte** de l'axe des **x**
- le **texte** de l'axe des **y** (qu'une variable y soit attribu&#xE9;e ou non)

Dans l'onglet "Variables", il est possible de **grouper les donn&#xE9;es**, par patient ou par moment. Choisissez ensuite la **fonction** &#xE0; appliquer pour grouper les donn&#xE9;es.

Par exemple :

- grouper les donn&#xE9;es par **patient** en choisissant la fonction **"maximum"** : la valeur maximale du param&#xE8;tre, tous s&#xE9;jours confondus, sera retenue pour chaque patient
- grouper les donn&#xE9;es par **4 heures** en choisissant la fonction **"moyenne"** : la valeur maximale sera retenue sur chaque intervalle de 4 heures, pour chaque patient (donc plusieurs donn&#xE9;es par patient)

## &lt;i class="fa fa-bar-chart" style="color: steelblue;"&gt;&lt;/i&gt; Figures disponibles

### Histogramme (geom_histogram)

Permet de visualiser la distribution d'une variable continue unique en divisant l'axe des x en intervalles et en comptant le nombre d'observations dans chaque intervalle.

&lt;img src="%plugin_folder%/geom_histogram.png" width="700" /&gt;

Vous pouvez chosir la **taille des barres** selon deux modalit&#xE9;s :

- soit par la **taille** des barres, en fonction de l'axe des x (une taille &#xE0; 50 voudra dire qu'une barre prendra 50 de l'unit&#xE9; renseign&#xE9;e sur l'axe des x)
- soit par le **nombre** de barres totales affich&#xE9;es

### Diagramme de dispersion (geom_point)

Permet de visualiser la distribution de deux variables continues, l'une sur l'axe des x, l'autre sur l'axe des y.

&lt;img src="%plugin_folder%/geom_point.png" width="700" /&gt;

Par d&#xE9;faut, uniquement les points ayant une **valeur &#xE0; un moment donn&#xE9;** &#xE0; la fois pour la **variable en x** et pour la **variable en y** seront affich&#xE9;s.

Par exemple, si je choisis la pression art&#xE9;rielle systolique en x et la pression art&#xE9;rielle moyenne en y (tel que dans l'example),
que j'ai une valeur de x tel jour &#xE0; 18:37:10 et une valeur de y le m&#xEA;me jour &#xE0; 18:37:11, le moment n'&#xE9;tant pas exactement le m&#xEA;me, il n'y aura pas de point correspondant sur la graphique.

Pour contrer cela, il est possible de **grouper les donn&#xE9;es**, par patient ou par moment (cf paragraphe Utilisation).</description_fr>
    <description_en>## &lt;i class="fa fa-info-circle" style="color: steelblue;"&gt;&lt;/i&gt; Description

This plugin uses the R library &lt;a href="https://ggplot2.tidyverse.org/" target="_blank"&gt;`ggplot2`&lt;/a&gt;, allowing for the creation of charts from data.

## &lt;i class="fa fa-cogs" style="color: steelblue;"&gt;&lt;/i&gt; Usage

To start, **select the variable** to display on each of the axes in the "Variables" tab.

Some figures will have a **variable on only one axis** (geom_histogram), while others will only display **if variables are provided on both axes** (geom_point).

For each figure, choose:

- the **theme** of the figure
- the **text** of the **x** axis
- the **text** of the **y** axis (whether or not a y variable is assigned)

In the "Variables" tab, it's possible to **group the data** by patient or by time. Then select the **function** to apply to group the data.

For example:

- group data by **patient** and choose the **"maximum"** function: the maximum value of the parameter, across all stays, will be used for each patient
- group data every **4 hours** and choose the **"average"** function: the maximum value will be considered for each 4-hour interval, for each patient (thus multiple data points per patient)

## &lt;i class="fa fa-bar-chart" style="color: steelblue;"&gt;&lt;/i&gt; Available Figures

### Histogram (geom_histogram)

Allows for the visualization of the distribution of a single continuous variable by dividing the x-axis into intervals and counting the number of observations in each interval.

&lt;img src="%plugin_folder%/geom_histogram.png" width="700" /&gt;

You can choose the **size of the bars** in two ways:

- either by the **size** of the bars, based on the x-axis (a size of 50 means a bar will span 50 of the unit specified on the x-axis)
- or by the **number** of total bars displayed

### Scatter Plot (geom_point)

Allows for the visualization of the distribution of two continuous variables, one on the x-axis and the other on the y-axis.

&lt;img src="%plugin_folder%/geom_point.png" width="700" /&gt;

By default, only points with a **value at a given time** for both the **x variable** and the **y variable** will be displayed.

For instance, if I select systolic blood pressure for x and mean arterial pressure for y (as in the example),
and I have a value for x on a certain day at 18:37:10 and a value for y on the same day at 18:37:11, since the times are not exactly the same, there will be no corresponding point on the chart.

To address this, it's possible to **group data** by patient or by time (see the Usage section above).</description_en>
    <name_fr>Figure (ggplot2)</name_fr>
    <name_en>Plot (ggplot2)</name_en>
    <category_fr></category_fr>
    <category_en></category_en>
    <creation_datetime>2023-06-28 22:01:19</creation_datetime>
    <update_datetime>2023-08-17 23:53:44</update_datetime>
    <images>geom_histogram.png;;;geom_point.png;;;ggplot2.png</images>
  </plugin>
</plugins>
